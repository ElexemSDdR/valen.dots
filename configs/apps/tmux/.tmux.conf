# ================================================================
# CONFIGURACIÓN AVANZADA TMUX - ESTILO CATPPUCCIN
# ================================================================

# --- OPCIONES GENERALES ---
set-option -sa terminal-overrides ",xterm*:Tc"
set -g mouse on
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Cambiar Prefijo a Ctrl + Espacio
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Abrir paneles en el mismo directorio
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Recargar configuración con Prefix + r
bind r source-file ~/.tmux.conf \; display "¡Configuración recargada!"

# --- NAVEGACIÓN ENTRE PANELES (CTRL + SHIFT + HJKL) ---
# Nota: Usamos -n para que funcione sin presionar el Prefijo
bind -n C-H select-pane -L
bind -n C-J select-pane -D
bind -n C-K select-pane -U
bind -n C-L select-pane -R

# --- PLUGINS (TPM) ---
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'

# --- CONFIGURACIÓN TEMA CATPPUCCIN ---
set -g @plugin 'catppuccin/tmux'
set -g @catppuccin_flavour 'mocha' # Sabor oscuro

# Estética de las ventanas (Pestañas)
set -g @catppuccin_window_right_separator "█ "
set -g @catppuccin_window_number_position "right"
set -g @catppuccin_window_middle_separator " | "
set -g @catppuccin_window_default_fill "none"
set -g @catppuccin_window_current_fill "all"

# SOLUCIÓN DE NOMBRES: Mostrar el nombre personalizado (#W) en todas las pestañas
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_text "#W"

# Configuración de la barra de estado (Arriba)
set -g status-position top
set -g @catppuccin_status_modules_right "directory session date_time"
set -g @catppuccin_status_left_separator "█"
set -g @catppuccin_status_right_separator "█"
set -g @catppuccin_date_time_text "%H:%M"

# --- INICIALIZAR TPM ---
run '~/.tmux/plugins/tpm/tpm'
